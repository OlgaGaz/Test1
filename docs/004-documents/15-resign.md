---
slug: "/post15"
title: "Соподпись (добавление подписи к файлу)"
metaTitle: "Соподпись (добавление подписи к файлу)"
sort: "15"
---

***Важно:*** чтобы подписывать документы, у вас на рабочем месте должен быть установлен криптопровайдер КриптоПро CSP с лицензией. КриптоАРМ также должен быть лицензирован.  

Чтобы подписывать документы электронной подписью, нужно установить в Личное хранилище сертификат с закрытым ключом.  

Вы можете добавлять подпись к уже подписанному файлу.  

Для этого в мастер **Подписи и шифрования** загрузите файлы с расширением .sig/.sgn/.sign/.p7s/.bin с помощью drag-and-drop (перетаскивания) или выберите файлы из вкладки **Архив**.  

Для всех добавленных подписей такие настройки, как кодировка, вид и формат, используются по умолчанию, как для первой подписи.  

Стандарт подписи, сертификат подписи, каталог для сохранения подписанного документа вы можете настроить в профиле подписи или в настройках операций в мастере.   

## Добавление подписи с использованием профиля подписи  

1. Перейдите во вкладку **Архив**.
2. Выберите в списке уже подписанные документы, к которым нужно добавить подпись, или ничего не выбирайте, если хотите добавить документы из системы.
3. Перейдите в мастер **Подписи и шифрования** через левое боковое меню  или с помощью кнопки **Добавить в**.
4. При необходимости добавьте документы в список.
5. Выберите профиль подписи, в котором заданы настройки подписи.    
   При выборе профиля в мастере автоматически заполняются **Настройки операции**, **Сертификат подписи**, каталоги сохранения результатов подписи.
6. Нажмите кнопку **Выполнить**.

## Добавление подписи с использованием настроек операций в мастере (без изменения выбранного профиля)  

Если вы хотите изменить параметры подписи, не изменяя настройки в профиле, то воспользуйтесь настройками в открытом мастере.  

1. Перейдите во вкладку **Архив**.
2. Выберите в списке документы с расширением sig/.sgn/.sign/.p7s/.bin, к которым нужно добавить подпись, или ничего не выбирайте, если хотите добавить документы из системы.
3. Перейдите в мастер **Подписи и шифрования** через левое боковое меню или с помощью кнопки **Добавить в**.
4. При необходимости добавьте документы в список. 
5. Включите на правой боковой панели операцию **Подписать**.
   В **Настройках операции** становятся доступны параметры подписи.
6. Установите параметры подписи и настройте каталоги сохранения подписанных файлов, при необходимости.  
7. Для операции подписи можно выбрать только один сертификат из категории **Личные**, у которого есть привязка к закрытому ключу. Для этого:  
   
      - нажмите на поле **Личный сертификат**;  
      - в открывшемся боковом окне выберите сертификат подписи.  
    
8. Нажмите кнопку **Выполнить**.  

## Результат выполнения операции  

На вкладке **Подпись и шифрование** отображаются ход и результаты выполнения операции.  

При успешном выполнении операции подписанные файлы сохраняются в заданном каталоге, если выбран каталог для сохранения результатов, или рядом с исходным файлом, если каталог не задан. Если установлен флаг **Создать копию в Архиве**, то копия подписанных документов сохраняется в специальную папку, файлы которой доступны во вкладке **Архив**.  

Если какие-то документы не удалось подписать, то операция считается выполненной с ошибками. Вы можете посмотреть, какие файлы подписались успешно, а какие с ошибками.   

Ошибки при операции выводятся как уведомления. Вы можете их посмотреть, нажав на иконку.   ![notifications-button.jpg](./images/notifications-button.jpg "События")   

Для просмотра подробного описания ошибки или отправки в техническую поддержку нажмите кнопку **Перейти в журнал** в правой боковой панели списка уведомлений.  

## Возможные уведомления  

1. **Не удалось открыть файл** — добавленные в мастер документы были удалены или по какой-то причине не доступны.  
2. **Не удалось подписать файл** — ошибка в адресе службы штампов времени, если подпись со штампом или усовершенствованная. Ошибка подключения к  прокси-серверу.   
3. **Не удалось подписать файл** — ошибки, связанные с истекшими лицензиями КриптоПро TSP Client, OCSP Client, КриптоПро CSP.   
4. **Не удалось найти исходный файл для подписи** — в мастер добавлен файл с отсоединённой подписью без исходного документа. Чтобы выполнить соподпись в данной ситуации, перед подписанием скопируйте оригинал документа в папку с файлом подписи (названия файлов должны совпадать) или выберите исходный файл в правой боковой панели, нажав **Указать путь к файлу**.  

## Инструкции по теме  

1. [Как установить личный сертификат.](../006-certs/01-import-my-cert.md)  
2. [Как создать профиль подписи.](./02-sign-profiles.md/#_2)  
3. [Как переключаться между профилями подписи.](./02-sign-profiles.md/#_4)  
4. [Как добавить документы в мастер.](./08-add-docs.md)  
5. [Как выбрать сертификат подписи.](./06-select-sign-cert.md)  
6. [Как посмотреть уведомления.](../008-cryptoarm/01-notifications.md)  
7. [Действия с результатами операций.](./19-operations-result.md)  