---
slug: "/post2"
title: "Описание запросов и ответов"
metaTitle: "Описание запросов и ответов"
sort: "2"
---

## Описание запросов и ответов

Все запросы между КриптоАРМ и сервером ДОЛЖНЫ соответствовать спецификации протокола **JSON-RPC 2.0**. В качестве транспорта используется HTTP. ДОЛЖЕН использоваться TLS, незащищенные соединения КриптоАРМ отклоняет. 

При включенной настройке «Использовать только набор алгоритмов ГОСТ для подключений по API» КриптоАРМ будет принимать только ГОСТ TLS, остальные шифросюиты будут отклоняться.

---
**POST-запрос**

КриптоАРМ выполняет HTTP POST-запросы, которые содержат заголовки:

- `Content-Type`: ДОЛЖЕН быть application/json.
- `Content-Length`: ДОЛЖЕН содержать правильную длину в соответствии с HTTP-спецификацией.
- `Accept`: ДОЛЖЕН быть application/json.

---
**GET-запрос**

Не используются.

---
**Ответ**

HTTP-ответ сервера ДОЛЖЕН содержать заголовки:

- `Content-Type`: ДОЛЖЕН быть application/json.
- `Content-Length`: ДОЛЖЕН содержать правильную длину в соответствии с HTTP-спецификацией.

---
**Объект Error**

В случае ошибки сервер ДОЛЖЕН отправить ответ следующей структуры:

| Ключ | Тип | Описание |
| --- | --- | --- |
| code | number | Код ошибки |
| message |  string |  Короткое описание ошибки |
| data |  string/Object |  Необязательное поле. Может содержать дополнительные сведения об ошибке. |

---
**HTTP-коды**

| Код | Ошибка | Описание |
| --- | --- | --- |
| 200 | OK | И для ответов, и для ошибок |
| 204 |  No Response |  Для пустых запросов (нотификация) |
| 405 |  Method Not Allowed |  Метод не доступен |
| 415 |  Unsupported Media Type |  Если `Content-Type` не application/json |