---
slug: "/post1"
title: "Общее описание"
metaTitle: "Общее описание"
sort: "1"
---


КриптоАРМ поддерживает API с двумя возможными точками вызова локальное приложение на рабочем месте и web-приложение (сервис). 

При вызове операции через API КриптоАРМ будет запущен и отобразит необходимый раздел с переданными параметрами. Команду можно ввести через адресную строку браузера (вы можете размещать их так же, как ссылки на веб-страницы) или в терминале. 

Для взаимодействия используется зарегистрированный протокол **cryptoarm://**

Доступные команды:

| Команда | Описание |
| --- | --- |
| [`signAndEncrypt`](./002-signAndEncrypt/01-signAndEncrypt-command-description.md) | выполнение криптографических операций над документами (подпись, шифрование, проверка подписи, расшифрование) |
| [`certificates`](./003-certificates/01-certificates-command-description.md) |  экспорт или импорт сертификатов, просмотр свойств сертификата |
| [`certrequests`](./004-certrequests/01-certrequests-command-description.md) | генерация запросов на сертификат |
| [`diagnostics`](./005-diagnostics/01-diagnostics-command-description.md) | диагностика рабочего места |
| [`startView`](./006-startView/01-startView-command-description.md) | открыть окно или вкладку |
| [`mail`](./007-mail/01-mail-command-description.md) | действия с электронными письмами |

---
### Cценарий выполнения команд (для взаимодействия с web-приложениями)
1. Пользователь заходит на портал (web-приложение).
2. Выбирает объекты (например список документов) и действие (например подпись).
3. Портал генерирует и отображает (или сразу переходит) ссылку с протоколом **cryptoarm://**
4. Если КриптоАРМ не запущен, то запускается. Затем обращается к порталу за JSON с набором параметров, нужных для выполнения конкретной операции. JSON генерируется на сервере, где располагается web-приложение.
5. Полученный JSON обрабатывается и в зависимости от команды выполняются нужные дополнительные запросы к web-приложению.
6. Пользователь подтверждает саму запрошенную операцию (остальной функционал приложения блокируется).
7. Результаты отправляются на сервер.

---
### Cценарий выполнения команд (для взаимодействия с локальным приложением)
1. Пользователь открывает стороннее приложение, в котором есть поддержка КриптоАРМ API.
2. Выбирает объекты (например список документов) и действие (например подпись).
3. Приложение генерирует объект (JSON) и передает на исполнение параметром в КриптоАРМ.
4. Если КриптоАРМ не запущен, то запускается. Затем обращается к порталу за JSON с набором параметров, нужных для выполнения конкретной операции. JSON генерируется на сервере, где располагается web-приложение.
5. Полученный JSON обрабатывается.
6. Пользователь подтверждает саму запрошенную операцию (остальной функционал приложения блокируется).
7. Результаты сохраняются в локальную папку, переданную в параметрах операции.

---
### Формат ссылки для web КриптоАРМ API

```
cryptoarm://<command>/<URL>/?id=<id>
```

- `cryptoarm://` - зарегистрированный протокол

- `<command>` - выполняемая команда

- `<URL>` - ссылка на получение JSON с параметрами, нужными для выполнения команды

- `?id=<id>` - обязательный параметр. Идентификатор транзакции.

---
### Формат ссылки для локального варианта КриптоАРМ API

**Вариант 1**:

```
cryptoarm://<command>/<URI>
```

- `cryptoarm://` - зарегистрированный протокол

- `<command>` - выполняемая команда

- `<URI>` - путь к файлу JSON с параметрами, нужными для выполнения команды

**Вариант 2**:

```
cryptoarm://<command>/<JSON>
```

- `cryptoarm://` - зарегистрированный протокол

- `<command>` - выполняемая команда

- `<JSON>` - JSON с параметрами, нужными для выполнения команды